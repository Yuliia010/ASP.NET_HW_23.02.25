@page
@model _2_AspPract.Pages.BookFormModel
@{
}
<div style="display:flex; flex-direction:row">

		<div class="left-box">
            <form method="post" asp-page-handler="First">
                <div>
                    <label asp-for="Title"> Search in OpenLib: </label>
                    <input asp-for="Title" />
                </div>
                <button type="submit">Search</button>
            </form>

            <hr />
			<br />

            <form method="post" asp-page-handler="Second">
                <div class="form-group">
                    <label asp-for="Book.Title">Title:</label>
                    <input asp-for="Book.Title" class="form-control" required />
                    <span asp-validation-for="Book.Title" class="text-danger"></span>
                </div>

                <div class="form-group">
                    <label asp-for="Book.Author_name">Author:</label>
                    <input asp-for="Book.Author_name" class="form-control" required />
                    <span asp-validation-for="Book.Author_name" class="text-danger"></span>
                </div>

                <div class="form-group">
                    <label asp-for="Book.Style">Style:</label>
                    <input asp-for="Book.Style" class="form-control" />
                    <span asp-validation-for="Book.Style" class="text-danger"></span>
                </div>

                <div class="form-group">
                    <label asp-for="Book.First_publish_year">Publication Date:</label>
                    <input asp-for="Book.First_publish_year" class="form-control" type="date" />
                    <span asp-validation-for="Book.First_publish_year" class="text-danger"></span>
                </div>

                <div class="form-group">
                    <label asp-for="Book.OtherInfo">Other Info:</label>
                    <textarea asp-for="Book.OtherInfo" class="form-control"></textarea>
                    <span asp-validation-for="Book.OtherInfo" class="text-danger"></span>
                </div>

                <button type="submit" class="btn btn-primary">Save</button>
            </form>

            <hr />
            <br />

            <div>
                <ol>
                    @foreach (var book in Model.Books)
                    {
                        <li>

                            <p>Title: @book.Title</p>
                            <p>Author: @book.Author_name</p>
                            <p>Style: @book.Style</p>
                        <p>Publication Date: @book.First_publish_year?.ToString("yyyy-MM-dd")</p>

                            <p>Other Info: @book.OtherInfo</p>

                        </li>
                    }
                </ol>
            </div>
    </div>


    <div class="right-box">
        <h1>Information got with API:</h1>
        <div>
            <ol>
                @foreach (var it in Model.BooksFromApi)
                {
                    <li>
                        <ul>
                            <li>
                                Title: @it.Title
                            </li>
                            <li>
                                Author: @it.Author_name
                            </li>
                            <li>
                                Publication year: @it.First_publish_year?.ToString("yyyy-MM-dd")
                            </li>
                            <li>
                                <button>
                                </button>
                            </li>
                        </ul>
                    </li>
                }
            </ol>
        </div>


    </div>


</div>



<style>
    .form-group {
        width: 600px;
        margin-bottom: 20px;
    }

    form {
        max-width: 600px;
        margin: 0 auto 0 0;
    }
</style>